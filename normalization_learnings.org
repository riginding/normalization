#+OPTIONS: reveal_title_slide:nil num:nil toc:nil
#+REVEAL_PLUGINS: (highlight notes)
#+REVEAL_HLEVEL: 2
#+REVEAL_TRANS: none

* Normalization Learnings
* Project Aareal Bank
   - Deal
   - Phases
   - Cards
   - CardAttachments
   - ...
* Problems
  - one main request has a big payload
  - very slow TTFB
  - hard to update specific Entity
* Old app
 #+REVEAL_HTML: <img alt="performance of aareal bank before" height="auto" id="aareal-old" src="./old.gif">
* New app
 #+REVEAL_HTML: <img alt="performance of aareal bank after" height="auto" id="aareal-new" src="./new.gif">
* How did it worked before
 #+REVEAL_HTML: <img alt="performance of aareal bank before" height="auto" id="aareal-old" src="./oldway.png">
* How it works now
 #+REVEAL_HTML: <img alt="performance of aareal bank before" height="auto" id="aareal-old" src="./newway.png">

* Old Store
 #+REVEAL_HTML: <img alt="performance of aareal bank before" height="auto" id="aareal-old" src="./denormalized_store.png">

* New Store
 #+REVEAL_HTML: <img alt="performance of aareal bank before" height="auto" id="aareal-old" src="./normalized_store.png">

* Lets look at Code
* Pros
 - easier to update one specific entity
 - caching built in
 - Actions and Mutations uniform -> can be autogenerated in the future
 - getters can be very performant (caching)

* Cons
 - more boilerplate, harder to start project
 - higher memory consumption
 - entities need to be invalidated

* Learnings
 - keep more attention to balazs 'new hot stuff'
 - normalization has no performance penalties if used appropriately
 - use getters in a way that it's cached (don't use currying functions)
